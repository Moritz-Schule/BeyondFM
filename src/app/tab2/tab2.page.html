<ion-header>
  <ion-toolbar>
    <ion-title>Radiosender Suche</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item>
    <ion-input
      [(ngModel)]="searchTerm"
      placeholder="Sender suchen..."
      (ionInput)="onSearch()"
      type="text"
      clear-input="true"
    >
      <ion-icon slot="start" name="search-outline"></ion-icon>
    </ion-input>
  </ion-item>

  <!-- Lade-Anzeige -->
  <div class="ion-text-center ion-padding" *ngIf="isLoading">
    <ion-spinner name="circular"></ion-spinner>
    <p>Suche l√§uft...</p>
  </div>

  <!-- Keine Ergebnisse -->
  <div class="ion-text-center ion-padding" *ngIf="!isLoading && searchTerm && searchResults.length === 0">
    <ion-icon name="radio-outline" size="large"></ion-icon>
    <p>Keine Sender gefunden</p>
  </div>

  <!-- Ergebnisliste -->
  <ion-list *ngIf="!isLoading && searchResults.length > 0">
    <ion-item *ngFor="let station of searchResults" button detail>
      <ion-thumbnail slot="start">
        <img [src]="station.favicon || ''"
             [alt]="station.name"
             onError="this.src=''">
      </ion-thumbnail>
      <ion-label>
        <h2>{{ station.name }}</h2>
        <p>{{ station.country }}</p>
        <p class="ion-text-wrap">
          <small>{{ formatTags(station.tags) }}</small>
        </p>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
